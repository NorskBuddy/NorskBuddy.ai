<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Norsk Buddy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:system-ui,sans-serif;background:linear-gradient(135deg,#1cb0f6,#58cc02);}
.app{max-width:480px;margin:auto;background:#fff;min-height:100vh;padding:20px;}
h1,h2{text-align:center;}
.hidden{display:none;}
button{width:100%;padding:12px;margin:8px 0;font-size:16px;border:none;border-radius:12px;background:#58cc02;color:white;cursor:pointer;}
button.secondary{background:#1cb0f6;}
.lesson-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:20px;}
.lesson{background:#f0f8ff;border-radius:16px;padding:16px;text-align:center;cursor:pointer;}
.option{background:#eee;margin:8px 0;padding:12px;border-radius:10px;cursor:pointer;}
.option.correct{background:#58cc02;color:#fff;}
.option.wrong{background:#e74c3c;color:#fff;}
input{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:1px solid #ccc;}
.progress{text-align:center;font-weight:bold;margin:10px 0;}
</style>
</head>

<body>
<div class="app">
<h1>üá≥üá¥ Norsk Buddy</h1>

<!-- HOME -->
<div id="screen-home">
  <h2>Your Journey</h2>
  <div class="lesson-grid" id="lessonGrid"></div>

  <h2 style="margin-top:30px;">Practice</h2>
  <button class="secondary" onclick="showCustomPractice()">Custom Practice</button>
</div>

<!-- LESSON VIEW -->
<div id="screen-lesson" class="hidden">
  <button onclick="goHome()">‚Üê Home</button>
  <h2 id="lessonTitle"></h2>
  <div id="lessonWords"></div>
</div>

<!-- CUSTOM INPUT -->
<div id="screen-custom" class="hidden">
  <button onclick="goHome()">‚Üê Home</button>
  <h2>Enter up to 10 English words</h2>
  <div id="customInputs"></div>
  <button onclick="startCustomPractice()">Start Practice</button>
</div>

<!-- QUIZ -->
<div id="screen-quiz" class="hidden">
  <button onclick="goHome()">‚Üê Home</button>
  <h2 id="quizPrompt"></h2>
  <div class="progress" id="quizProgress"></div>
  <div id="quizOptions"></div>
</div>

<script>
/* ================= LESSON DATA ================= */
const lessons = {
"Me, Myself, and I":{
words:[
['Meg','Me'],['Jeg','I'],['Du','You'],['Meg selv','Myself'],['Deg','Yourself'],
['Mine','Mine'],['Din','Your'],['v√•r','our'],['v√•rt','ours'],
['hennes','hers'],['hans','his']
]},
"Things you wear":{
words:[
['kl√¶r','Clothes'],['Sko','shoe'],['Bukser','Pants'],['Lue','Beanie'],
['Hatt','Hat'],['Briller','Glasses'],['skjorte','shirt'],
['t-skjorte','t-shirt'],['joggesko','Sneakers'],['dress','suit'],['kjole','dress']
]},
"Give and Take":{
words:[
['Gi','Give'],['Ta','take'],['Tok','took'],['Tatt','taken'],
['Ga','gave'],['Gitt','given'],['hadde gitt','had given']
]},
"Lost and Found":{
words:[
['mistet','lost'],['finne','find'],['funnet','found'],
['taper','losing'],['borte','gone'],['har funnet','have found']
]},
"Everyday Tech":{
words:[
['datamaskin','Computer'],['telefon','Telephone'],['smarttelefon','Smartphone'],
['TV-en','Television'],['Radio','Radio'],['tablett','tablet'],
['videospill','Video game']
]},
"The Reading Rainbow":{
words:[
['Bok','book'],['blad','magazine'],['Avis','Newspaper'],['Brev','Letter'],
['Rapport','Report'],['undertekst','subtitle'],
['tekstmelding','Text message'],['leser','reading'],['lese','read'],
['Skrev','wrote'],['skriving','writing'],['skrevet','written']
]},
"Who, What, Why, and Where":{
words:[
['hvem','who'],['hva','what'],['hvor','where'],['hvorfor','why'],['n√•r','when'],
['gikk','went'],['g√•r','is going'],['vil g√•','will go'],['har g√•tt','has went']
]},
"Colors":{
words:[
['r√∏d','red'],['bl√•','blue'],['gul','yellow'],['guld','gold'],
['lilla','purple'],['rosa','pink'],['gr√∏n','green'],
['brun','brown'],['svart','black'],['hvit','white']
]},
"Professions":{
words:[
['ingeni√∏r','engineer'],['politi','police'],['politimann','policeman'],
['politikvinne','policewoman'],['postbud','postman'],['kokk','chef'],
['bygningsarbeider','construction worker'],['bussj√•f√∏r','bus driver'],['l√¶rer','teacher']
]},
"Feelings":{
words:[
['f√∏lelse','feeling'],['f√∏lelser','feelings'],['f√∏les','feels'],
['vil f√∏le','will feel'],['f√∏lte','felt'],
['glad','happy'],['trist','sad'],['sint','mad'],['spennende','exciting']
]},
"Numbers":{
words:[
['en','one'],['to','two'],['tre','three'],['fire','four'],['fem','five'],
['seks','six'],['sju','seven'],['√•tte','eight'],['ni','nine'],['ti','ten']
]},
"Their / There / They're":{
words:[
['der','there'],['deres','their'],['de er','they are']
]}
};

/* ================= BUILD JOURNEY ================= */
const lessonGrid=document.getElementById('lessonGrid');
Object.keys(lessons).forEach(title=>{
const div=document.createElement('div');
div.className='lesson';
div.textContent=title;
div.onclick=()=>openLesson(title);
lessonGrid.appendChild(div);
});

/* ================= NAV ================= */
function show(id){
document.querySelectorAll('[id^=screen]').forEach(s=>s.classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}
function goHome(){show('screen-home');}

/* ================= LESSON VIEW ================= */
function openLesson(title){
show('screen-lesson');
document.getElementById('lessonTitle').textContent=title;
const box=document.getElementById('lessonWords');
box.innerHTML='';
lessons[title].words.forEach(w=>{
box.innerHTML+=`<p><strong>${w[0]}</strong> ‚Äî ${w[1]}</p>`;
});
}

/* ================= CUSTOM PRACTICE ================= */
let quizWords=[],quizIndex=0;

function showCustomPractice(){
show('screen-custom');
const box=document.getElementById('customInputs');
box.innerHTML='';
for(let i=0;i<10;i++){
const input=document.createElement('input');
input.placeholder='English word (e.g. happy)';
box.appendChild(input);
}
}

function startCustomPractice(){
const allWords=[];
Object.values(lessons).forEach(l=>allWords.push(...l.words));
const lookup=new Map(allWords.map(w=>[w[1].toLowerCase(),w]));

quizWords=[];
document.querySelectorAll('#customInputs input').forEach(i=>{
const v=i.value.trim().toLowerCase();
if(v && lookup.has(v) && !quizWords.includes(lookup.get(v))){
quizWords.push(lookup.get(v));
}
});

if(!quizWords.length){
alert('No valid words found in lessons.');
return;
}

quizIndex=0;
showQuiz();
}

function showQuiz(){
show('screen-quiz');
const [no,en]=quizWords[quizIndex];
document.getElementById('quizPrompt').textContent=`Translate: "${en}"`;
document.getElementById('quizProgress').textContent=`${quizIndex+1} / ${quizWords.length}`;

const options=[no];
while(options.length<3){
const r=quizWords[Math.floor(Math.random()*quizWords.length)][0];
if(!options.includes(r)) options.push(r);
}
options.sort(()=>Math.random()-0.5);

const box=document.getElementById('quizOptions');
box.innerHTML='';
options.forEach(opt=>{
const b=document.createElement('div');
b.className='option';
b.textContent=opt;
b.onclick=()=>{
if(opt===no){
b.classList.add('correct');
setTimeout(()=>{
quizIndex++;
quizIndex<quizWords.length?showQuiz():goHome();
},600);
}else{
b.classList.add('wrong');
setTimeout(()=>b.classList.remove('wrong'),400);
}
};
box.appendChild(b);
});
}
</script>
</body>
</html>



