<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Norsk Buddy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:system-ui,sans-serif;background:linear-gradient(135deg,#1cb0f6,#58cc02);}
.app{max-width:480px;margin:auto;background:#fff;min-height:100vh;padding:20px;}
h1,h2{text-align:center;}
.hidden{display:none;}
button{width:100%;padding:12px;margin:8px 0;font-size:16px;border:none;border-radius:12px;background:#58cc02;color:white;cursor:pointer;}
button.secondary{background:#1cb0f6;}
.lesson-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:20px;}
.lesson{background:#f0f8ff;border-radius:16px;padding:16px;text-align:center;cursor:pointer;}
.option{background:#eee;margin:6px;padding:12px;border-radius:8px;cursor:pointer;}
.option.correct{background:#58cc02;color:white;}
.option.wrong{background:#e74c3c;color:white;}
input{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:1px solid #ccc;}
#prev{margin-bottom:10px;}
</style>
</head>

<body>
<div class="app">
<h1>üá≥üá¥ Norsk Buddy</h1>

<!-- HOME -->
<div id="screen-home">
  <h2>Your Journey</h2>
  <div class="lesson-grid" id="lessonGrid"></div>

  <h2 style="margin-top:30px;">Practice</h2>
  <button class="secondary" onclick="startWordPractice()">Word Practice</button>
  <button class="secondary" onclick="showCustom()">Custom Practice</button>
</div>

<!-- LESSON -->
<div id="screen-lesson" class="hidden">
  <button id="prev" onclick="goHome()">‚Üê Home</button>
  <h2 id="word-no"></h2>
  <p><strong>English:</strong> <span id="word-en"></span></p>
  <button onclick="nextWord()">Next</button>
  <div id="examples"></div>
</div>

<!-- MATCH / PRACTICE -->
<div id="screen-match" class="hidden">
  <button id="prev" onclick="goHome()">‚Üê Home</button>
  <h2 id="prompt"></h2>
  <div id="options"></div>
</div>

<!-- CUSTOM INPUT -->
<div id="screen-custom" class="hidden">
  <button id="prev" onclick="goHome()">‚Üê Home</button>
  <h2>Enter up to 10 English words</h2>
  <div id="customInputs"></div>
  <button onclick="startCustomPractice()">Start Practice</button>
</div>

<script>
/* ================= LESSON DATA ================= */
const lessons = {
  meMyselfI:{title:"Me, Myself, and I",words:[
    ["Meg","Me"],["Jeg","I"],["Du","You"],["Meg selv","Myself"],["Deg","Yourself"],
    ["Mine","Mine"],["Din","Your"],["v√•r","our"],["v√•rt","ours"],["hennes","hers"],["hans","his"]
  ],examples:["Du og meg ‚Äì You and me","Hans eller hennes ‚Äì His or hers"]},

  clothes:{title:"Things You Wear",words:[
    ["kl√¶r","clothes"],["Sko","shoe"],["Bukser","pants"],["Lue","beanie"],["Hatt","hat"],
    ["Briller","glasses"],["skjorte","shirt"],["t-skjorte","t-shirt"],
    ["joggesko","sneakers"],["dress","suit"],["kjole","dress"]
  ],examples:["Skoene hennes er bl√•","Hatten hans er r√∏d"]},

  giveTake:{title:"Give and Take",words:[
    ["Gi","give"],["Ta","take"],["Tok","took"],["Tatt","taken"],["Ga","gave"],
    ["Gitt","given"],["hadde gitt","had given"]
  ],examples:["Gi meg den luen","Ta det til henne"]},

  lostFound:{title:"Lost and Found",words:[
    ["mistet","lost"],["finne","find"],["funnet","found"],["taper","losing"],
    ["borte","gone"],["har funnet","have found"]
  ],examples:["Den er borte","Jeg mistet den i g√•r","Jeg fant det tidligere"]},

  tech:{title:"Everyday Tech",words:[
    ["datamaskin","computer"],["telefon","telephone"],["smarttelefon","smartphone"],
    ["TV-en","television"],["radio","radio"],["tablett","tablet"],["videospill","video game"]
  ],examples:["Jeg mistet telefonen min","Jeg h√∏rte det p√• radioen","Jeg spiller et videospill"]},

  reading:{title:"The Reading Rainbow",words:[
    ["bok","book"],["blad","magazine"],["avis","newspaper"],["brev","letter"],
    ["rapport","report"],["undertekst","subtitle"],["tekstmelding","text message"],
    ["leser","reading"],["lese","read"],["skrev","wrote"],["skriving","writing"],["skrevet","written"]
  ],examples:["Jeg leser en ny bok","Hun skrev en rapport for magasinet"]},

  whWords:{title:"Who, What, Why, and Where",words:[
    ["hvem","who"],["hva","what"],["hvor","where"],["hvorfor","why"],["n√•r","when"],
    ["gikk","went"],["g√•r","is going"],["vil g√•","will go"],["har g√•tt","has went"]
  ],examples:[]},

  colors:{title:"Colors",words:[
    ["r√∏d","red"],["bl√•","blue"],["gul","yellow"],["guld","gold"],["lilla","purple"],
    ["rosa","pink"],["gr√∏n","green"],["brun","brown"],["svart","black"],["hvit","white"]
  ],examples:[]},

  professions:{title:"Professions",words:[
    ["ingeni√∏r","engineer"],["politi","police"],["politimann","policeman"],
    ["politikvinne","policewoman"],["postbud","postman"],
    ["kokk","chef"],["bygningsarbeider","construction worker"],
    ["bussj√•f√∏r","bus driver"],["l√¶rer","teacher"]
  ],examples:[]},

  feelings:{title:"Feelings",words:[
    ["f√∏lelse","feeling"],["f√∏lelser","feelings"],["f√∏les","feels"],
    ["vil f√∏le","will feel"],["f√∏lte","felt"],
    ["glad","happy"],["trist","sad"],["sint","mad"],["spennende","exciting"]
  ],examples:[]},

  numbers:{title:"Numbers",words:[
    ["en","one"],["to","two"],["tre","three"],["fire","four"],["fem","five"],
    ["seks","six"],["sju","seven"],["√•tte","eight"],["ni","nine"],["ti","ten"]
  ],examples:[]},

  theirThere:{title:"Their / There / They're",words:[
    ["der","there"],["deres","their"],["de er","they are"]
  ],examples:[]}
};

/* ================= BUILD HOME ================= */
const grid=document.getElementById("lessonGrid");
Object.keys(lessons).forEach(k=>{
  const d=document.createElement("div");
  d.className="lesson";
  d.textContent=lessons[k].title;
  d.onclick=()=>startLesson(k);
  grid.appendChild(d);
});

/* ================= STATE ================= */
let seq=[],idx=0,practiceSeq=[],practiceIdx=0;

/* ================= NAV ================= */
function show(id){
  document.querySelectorAll("[id^=screen]").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}
function goHome(){show("screen-home");}

/* ================= LESSON ================= */
function startLesson(k){
  seq=[...lessons[k].words];
  idx=0;
  show("screen-lesson");
  showWord();
}
function showWord(){
  document.getElementById("word-no").textContent=seq[idx][0];
  document.getElementById("word-en").textContent=seq[idx][1];
}
function nextWord(){
  idx<seq.length-1?showWord(++idx):goHome();
}

/* ================= CUSTOM PRACTICE ================= */
function showCustom(){
  show("screen-custom");
  const box=document.getElementById("customInputs");
  box.innerHTML="";
  for(let i=0;i<10;i++){
    const inp=document.createElement("input");
    inp.placeholder="English word (e.g. water)";
    box.appendChild(inp);
  }
}

function startCustomPractice(){
  let all=[];
  Object.values(lessons).forEach(l=>all.push(...l.words));
  const lookup=new Map(all.map(w=>[w[1].toLowerCase(),w]));

  const inputs=[...document.querySelectorAll("#customInputs input")];
  practiceSeq=[];
  inputs.forEach(i=>{
    const v=i.value.trim().toLowerCase();
    if(v && lookup.has(v) && !practiceSeq.includes(lookup.get(v))){
      practiceSeq.push(lookup.get(v));
    }
  });

  if(practiceSeq.length===0){
    alert("No valid words entered.");
    return;
  }

  practiceIdx=0;
  showPracticeWord();
}

function showPracticeWord(){
  show("screen-match");
  const current=practiceSeq[practiceIdx];
  document.getElementById("prompt").textContent=`Select the Norsk word for: "${current[1]}"`;

  const opts=[current];
  let pool=[];
  Object.values(lessons).forEach(l=>pool.push(...l.words));
  pool=pool.filter(w=>w!==current).sort(()=>Math.random()-0.5);
  opts.push(pool[0],pool[1]);
  opts.sort(()=>Math.random()-0.5);

  const box=document.getElementById("options");
  box.innerHTML="";
  opts.forEach(o=>{
    const b=document.createElement("div");
    b.className="option";
    b.textContent=o[0];
    b.onclick=()=>{
      if(o===current){
        practiceIdx++;
        practiceIdx<practiceSeq.length?showPracticeWord():goHome();
      }else{
        box.innerHTML="";
        showPracticeWord();
      }
    };
    box.appendChild(b);
  });
}
</script>
</body>
</html>



