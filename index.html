<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Norsk Buddy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:system-ui,sans-serif;background:linear-gradient(135deg,#1cb0f6,#58cc02);}
.app{max-width:480px;margin:auto;background:#fff;min-height:100vh;padding:20px;position:relative;}
h1,h2{text-align:center;}
.hidden{display:none;}
button{width:100%;padding:12px;margin:8px 0;font-size:16px;border:none;border-radius:12px;background:#58cc02;color:white;cursor:pointer;}
button.secondary{background:#1cb0f6;}
.lesson-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:20px;}
.lesson{background:#f0f8ff;border-radius:16px;padding:16px;text-align:center;cursor:pointer;}
#prev{position:absolute;top:12px;left:12px;width:auto;padding:8px 14px;}
.option{background:#eee;color:#333;margin:4px;padding:10px;border-radius:8px;cursor:pointer;}
.option.selected{background:#1cb0f6;color:white;}
.option.matched{background:#58cc02;color:white;}
.example{background:#f9f9f9;padding:10px;border-radius:8px;margin-top:12px;font-size:14px;}
</style>
</head>

<body>
<div class="app">
<h1>üá≥üá¥ Norsk Buddy</h1>

<!-- HOME -->
<div id="screen-home">
  <h2>Your Journey</h2>
  <div class="lesson-grid" id="lessonGrid"></div>

  <h2 style="margin-top:30px;">Practice</h2>
  <button class="secondary" onclick="startWordPractice()">Word Practice</button>
  <button class="secondary" onclick="show('screen-custom')">Custom Practice</button>
</div>

<!-- LESSON -->
<div id="screen-lesson" class="hidden">
  <button id="prev" onclick="goHome()">‚Üê Home</button>
  <h2 id="word-no"></h2>
  <p><strong>English:</strong> <span id="word-en"></span></p>
  <button onclick="nextWord()">Next</button>
  <div id="examples"></div>
</div>

<!-- MATCH -->
<div id="screen-match" class="hidden">
  <h2>Match the words</h2>
  <div style="display:flex;gap:10px;">
    <div id="en-col" style="flex:1;"></div>
    <div id="no-col" style="flex:1;"></div>
  </div>
</div>

<!-- CUSTOM PRACTICE -->
<div id="screen-custom" class="hidden">
  <button id="prev" onclick="goHome()">‚Üê Home</button>
  <h2>Select up to 10 words</h2>
  <div id="customList"></div>
  <button onclick="startCustomPractice()">Start Practice</button>
</div>

<script>
/* ================== LESSON DATA ================== */
const lessons={
greetings:[['Hallo','Hello'],['Ha det','Goodbye'],['Velkommen','Welcome']],
courtesy:[['Takk','Thank you'],['V√¶r s√• snill','Please']],
needs:[['Vann','Water'],['Mat','Food']],
numbers:[['En','One'],['To','Two'],['Tre','Three']],
slang:[['Hva skjer','What‚Äôs up']],
whWords:[['hvem','who'],['hva','what']],
colors:[['r√∏d','red'],['bl√•','blue']],
professions:[['l√¶rer','teacher']],
feelings:[['glad','happy']],
theirThere:[['der','there'],['deres','their']],

meMyselfI:{
words:[
['Meg','Me'],['Jeg','I'],['Du','You'],['Meg selv','Myself'],['Deg','Yourself'],
['Mine','Mine'],['Din','Your'],['v√•r','our'],['v√•rt','ours'],['hennes','hers'],['hans','his']
],
examples:['Du og meg ‚Äì You and me','Hans eller hennes ‚Äì His or hers']
},

clothes:{
words:[
['kl√¶r','clothes'],['Sko','shoe'],['Bukser','pants'],['Lue','beanie'],['Hatt','hat'],
['Briller','glasses'],['skjorte','shirt'],['t-skjorte','t-shirt'],['joggesko','sneakers'],
['dress','suit'],['kjole','dress']
],
examples:['Skoene hennes er bl√•','Hatten hans er r√∏d']
},

giveTake:{
words:[
['Gi','give'],['Ta','take'],['Tok','took'],['Tatt','taken'],['Ga','gave'],
['Gitt','given'],['hadde gitt','had given']
],
examples:['Gi meg den luen','Ta det til henne']
},

lostFound:{
words:[
['mistet','lost'],['finne','find'],['funnet','found'],['borte','gone'],['har funnet','have found']
],
examples:['Den er borte','Jeg mistet den i g√•r','Jeg fant det tidligere']
},

tech:{
words:[
['datamaskin','computer'],['telefon','telephone'],['smarttelefon','smartphone'],
['TV-en','television'],['radio','radio'],['tablett','tablet'],['videospill','video game']
],
examples:['Jeg mistet telefonen min','Jeg h√∏rte det p√• radioen','Jeg spiller et videospill']
},

reading:{
words:[
['bok','book'],['blad','magazine'],['avis','newspaper'],['brev','letter'],
['rapport','report'],['undertekst','subtitle'],['tekstmelding','text message'],
['leser','reading'],['lese','read'],['skrev','wrote'],['skriving','writing'],['skrevet','written']
],
examples:['Jeg leser en ny bok','Hun skrev en rapport for magasinet']
}
};

/* ================== HOME GRID ================== */
const lessonNames={
greetings:'Greetings',courtesy:'Courtesy',needs:'Needs',numbers:'Numbers',slang:'Slang',
whWords:'Who / What',colors:'Colors',professions:'Professions',feelings:'Feelings',
theirThere:'Their / There',meMyselfI:'Me, Myself, and I',clothes:'Things You Wear',
giveTake:'Give and Take',lostFound:'Lost and Found',tech:'Everyday Tech',reading:'The Reading Rainbow'
};

const grid=document.getElementById('lessonGrid');
for(let k in lessonNames){
const d=document.createElement('div');
d.className='lesson';
d.textContent=lessonNames[k];
d.onclick=()=>startLesson(k);
grid.appendChild(d);
}

/* ================== STATE ================== */
let seq=[],idx=0,current=null;

/* ================== NAV ================== */
function show(id){
document.querySelectorAll('[id^=screen]').forEach(s=>s.classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}
function goHome(){show('screen-home');}

/* ================== LESSON ================== */
function startLesson(k){
current=k;idx=0;
const l=lessons[k];
seq=(l.words||l).slice();
show('screen-lesson');
showWord();
}

function showWord(){
const w=seq[idx];
document.getElementById('word-no').textContent=w[0];
document.getElementById('word-en').textContent=w[1];
const ex=document.getElementById('examples');
ex.innerHTML='';
const e=lessons[current].examples;
if(e&&idx===seq.length-1){
e.forEach(s=>ex.innerHTML+=`<div class="example">${s}</div>`);
}
}

function nextWord(){
idx<seq.length-1?showWord(++idx):startMatch();
}

/* ================== MATCH ================== */
function startMatch(){
show('screen-match');
const en=document.getElementById('en-col');
const no=document.getElementById('no-col');
en.innerHTML=no.innerHTML='';
const base=seq.slice();
shuffle(base).forEach(w=>{
const b=document.createElement('div');
b.className='option';b.textContent=w[1];
b.onclick=()=>select=w;
en.appendChild(b);
});
shuffle(seq).forEach(w=>{
const b=document.createElement('div');
b.className='option';b.textContent=w[0];
b.onclick=()=>alert(w[1]);
no.appendChild(b);
});
}

/* ================== PRACTICE ================== */
function startWordPractice(){
const all=[];
Object.values(lessons).forEach(l=>{
(l.words||l).forEach(w=>all.push(w));
});
seq=shuffle(all).slice(0,18);
idx=0;current=null;
show('screen-lesson');
showWord();
}

/* ================== CUSTOM ================== */
function startCustomPractice(){
seq=shuffle(customSel).concat(shuffle(customSel));
idx=0;show('screen-lesson');showWord();
}

/* ================== UTILS ================== */
function shuffle(a){return a.sort(()=>Math.random()-0.5);}
</script>
</body>
</html>


